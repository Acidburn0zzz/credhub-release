#!/bin/bash

set -eux

function extract() {
  echo "Extracting archive..."

  mkdir mariadb
  tar zxvf mariadb_10.1.23/server-mariadb-10.1.23.tar.gz -C mariadb
}

function compile() {
  echo "Compiling..."

  pushd mariadb > /dev/null
    pushd server-mariadb-10.1.23
      cmake .
      make
    popd
  popd
}

function main() {
  extract
  compile
}

main
